# Техническое задание: Генератор мемов

## Функциональные требования

### 1) Работа с изображениями
- Загрузка фоновых изображений (JPG, PNG)
- Автоматическое масштабирование изображения под размер окна
- Сброс изображения к исходному состоянию
- Подтверждение при загрузке нового изображения, если есть несохраненные изменения
- Редактирование изображений:
  - Регулировка яркости и контрастности
  - Чёрно-белый фильтр
  - Сепия (винтажный эффект)
  - Насыщенность цветов
  - Размытие

### 2) Работа с текстом
- Добавление двух текстовых блоков (верхний и нижний) - не более одного каждого типа
- Drag-and-drop перемещение текстовых блоков
- Редактирование текста по одному клику
- Индивидуальные настройки для каждого текстового блока:
  - Выбор шрифта из доступных: Arial, Times New Roman, Impact, Comic Sans MS, Verdana, Courier New, Georgia, Trebuchet MS
  - Размер текста (20-60px)
  - Цвет текста
  - Настройка обводки (цвет и толщина)

### 3) Сохранение результатов
- Экспорт мема в форматы PNG, JPG
- Настройка качества сохраняемого изображения
- Копирование в буфер обмена

### 4) База данных
- Хранение истории последних 10 загруженных изображений
- Сохранение путей к последним созданным мемам
- Хранение пользовательских настроек текста
- Таблица версий мемов (meme_versions)
- Таблица истории редактирования (meme_edits)
- Сохранение предыдущих версий мемов

### 5) Случайные мемы
- Автоматический подбор изображения из истории загрузок
- Случайный выбор фразы из коллекции
- Быстрое создание мема в один клик

## Архитектура и модули

### Основные модули:
- **MainWindow** - главное окно программы
- **ImageProcessor** - загрузка и обработка изображений
- **TextManager** - управление текстовыми блоками
- **MemeRenderer** - формирование конечного изображения
- **Database** - работа с SQLite базой данных
- **ExportManager** - экспорт и сохранение результатов
- **FilterManager** - управление фильтрами изображений
- **RandomMemeGenerator** - генератор случайных мемов

## Структура меню

### Файл:
- Загрузить изображение (Ctrl+O)
- Сохранить мем (Ctrl+S)
- Случайный мем (Ctrl+R)
- История загрузок
- Выход

### Текст:
- Добавить верхний текст
- Добавить нижний текст
- Настройки текста
- Удалить весь текст
- Сбросить позиции текста

### Изображение:
- Яркость/Контрастность
- Фильтры (Ч/Б, Сепия, Размытие)
- Насыщенность
- Сброс фильтров

### Настройки:
- Шрифт
- Размер текста
- Цвет текста
- Обводка текста

## Горячие клавиши
- Ctrl + O - Загрузить изображение
- Ctrl + S - Сохранить мем
- Ctrl + R - Случайный мем
- Ctrl + T - Добавить верхний текст
- Ctrl + B - Добавить нижний текст
- Del - Удалить выделенный текст
- Ctrl + Z - Отменить последнее действие

## Реализовано в текущей версии
- ✅ Загрузка изображений (PNG, JPG, JPEG, BMP)
- ✅ Добавление текста (верхний/нижний) с ограничением по количеству
- ✅ Drag-and-drop перемещение текста
- ✅ Редактирование текста по одному клику
- ✅ Сохранение мемов (PNG, JPG)
- ✅ Защита от потери несохраненных изменений
- ✅ Горячие клавиши (Ctrl+O, Ctrl+S, Delete)
- ✅ База данных с историей изображений
- ✅ Случайный мем
- ✅ Настройки шрифтов

## Технологический стек
- Python 3.x
- PyQt6
- SQLite3
