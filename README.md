# Техническое задание: Генератор мемов

## Функциональные требования

### 1) Работа с изображениями
- Загрузка фоновых изображений (JPG, PNG)
- Автоматическое масштабирование изображения под размер окна
- Сброс изображения к исходному состоянию
- Подтверждение при загрузке нового изображения, если есть несохраненные изменения
- Редактирование изображений:
  - Регулировка яркости и контрастности
  - Чёрно-белый фильтр
  - Сепия (винтажный эффект)
  - Насыщенность цветов
  - Размытие

### 2) Работа с текстом
- Добавление двух текстовых блоков (верхний и нижний) - не более одного каждого типа
- Drag-and-drop перемещение текстовых блоков
- Редактирование текста по одному клику
- Индивидуальные настройки для каждого текстового блока:
  - Выбор шрифта из доступных: Arial, Times New Roman, Impact, Comic Sans MS, Verdana, Courier New, Georgia, Trebuchet MS, Roboto, Open Sans
  - Размер текста (20-60px)
  - Цвет текста
  - Настройка обводки (цвет и толщина)

### 3) Сохранение результатов
- Экспорт мема в форматы PNG, JPG
- Настройка качества сохраняемого изображения
- Копирование в буфер обмена
- Сохранение версий мемов

### 4) База данных
- Хранение истории последних 10 загруженных изображений
- Сохранение путей к последним созданным мемам
- Хранение пользовательских настроек текста
- Таблица версий мемов (meme_versions) - каждая версия с timestamp
- Таблица истории редактирования (meme_edits) - кто, когда и что изменил
- Сохранение предыдущих версий мемов с возможностью отката

### 5) Случайные мемы
- Автоматический подбор изображения из истории загрузок
- Случайный выбор фразы из коллекции (20+ популярных мем-фраз)
- Случайный выбор фильтра для изображения
- Быстрое создание мема в один клик
- Сохранение сгенерированных случайных мемов

### 6) Расширенная функциональность
- История действий (undo/redo)
- Шаблоны мемов (предустановленные настройки)
- Экспорт в различные форматы
- Пакетная обработка

## Архитектура и модули

### Основные модули:
- **MainWindow** - главное окно программы
- **ImageProcessor** - загрузка и обработка изображений
- **TextManager** - управление текстовыми блоками
- **MemeRenderer** - формирование конечного изображения
- **Database** - работа с SQLite базой данных
- **ExportManager** - экспорт и сохранение результатов
- **FilterManager** - управление фильтрами изображений
- **RandomMemeGenerator** - генератор случайных мемов
- **HistoryManager** - управление историей изменений
- **VersionControl** - контроль версий мемов

## Структура меню

### Файл:
- Загрузить изображение (Ctrl+O)
- Сохранить мем (Ctrl+S)
- Случайный мем (Ctrl+R)
- История загрузок
- История версий
- Выход

### Текст:
- Добавить верхний текст (Ctrl+T)
- Добавить нижний текст (Ctrl+B)
- Настройки текста
- Удалить весь текст
- Сбросить позиции текста

### Изображение:
- Яркость/Контрастность
- Фильтры (Ч/Б, Сепия, Размытие, Инверсия, Старое фото)
- Насыщенность
- Сброс фильтров

### Настройки:
- Шрифт
- Размер текста
- Цвет текста
- Обводка текста

### Вид:
- История действий
- Показать сетку
- Предпросмотр

## Горячие клавиши
- Ctrl + O - Загрузить изображение
- Ctrl + S - Сохранить мем
- Ctrl + R - Случайный мем
- Ctrl + T - Добавить верхний текст
- Ctrl + B - Добавить нижний текст
- Ctrl + Z - Отменить действие
- Ctrl + Y - Повторить действие
- Del - Удалить выделенный текст

## Технологический стек
- Python 3.x
- PyQt6
- SQLite3
- Pillow (PIL)
