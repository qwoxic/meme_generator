# Техническое задание: Генератор мемов

## Функциональные требования

### 1) Работа с изображениями
- Загрузка фоновых изображений (JPG, PNG)
- Автоматическое масштабирование изображения под размер окна
- Сброс изображения к исходному состоянию
- Подтверждение при загрузке нового изображения, если есть несохраненные изменения
- Редактирование изображений:
  - Регулировка яркости и контрастности
  - Чёрно-белый фильтр
  - Сепия (винтажный эффект)
  - Насыщенность цветов
  - Размытие

### 2) Работа с текстом
- Добавление двух текстовых блоков (верхний и нижний) - не более одного каждого типа
- Drag-and-drop перемещение текстовых блоков
- Редактирование текста по одному клику
- Индивидуальные настройки для каждого текстового блока:
  - Выбор шрифта из доступных: Arial, Times New Roman, Impact, Comic Sans MS, Verdana, Courier New, Georgia, Trebuchet MS, Roboto, Open Sans
  - Размер текста (20-60px)
  - Цвет текста
  - Настройка обводки (цвет и толщина)

### 3) Сохранение результатов
- Экспорт мема в форматы PNG, JPG
- Настройка качества сохраняемого изображения
- Копирование в буфер обмена
- Сохранение версий мемов

### 4) База данных
- Хранение истории последних 10 загруженных изображений
- Сохранение путей к последним созданным мемам
- Хранение пользовательских настроек текста
- Таблица версий мемов (meme_versions) - каждая версия с timestamp
- Таблица истории редактирования (meme_edits) - кто, когда и что изменил
- Сохранение предыдущих версий мемов с возможностью отката

### 5) Случайные мемы
- Автоматический подбор изображения из истории загрузок
- Случайный выбор фразы из коллекции (20+ популярных мем-фраз)
- Случайный выбор фильтра для изображения
- Быстрое создание мема в один клик
- Сохранение сгенерированных случайных мемов

### 6) Расширенная функциональность
- История действий (undo/redo)
- Шаблоны мемов (предустановленные настройки)
- Экспорт в различные форматы
- Пакетная обработка

## Архитектура и модули

### Основные модули:
- **MainWindow** - главное окно программы
- **ImageProcessor** - загрузка и обработка изображений
- **TextManager** - управление текстовыми блоками
- **MemeRenderer** - формирование конечного изображения
- **Database** - работа с SQLite базой данных
- **ExportManager** - экспорт и сохранение результатов
- **FilterManager** - управление фильтрами изображений
- **RandomMemeGenerator** - генератор случайных мемов
- **HistoryManager** - управление историей изменений
- **VersionControl** - контроль версий мемов

## Структура меню

### Файл:
- Загрузить изображение (Ctrl+O)
- Сохранить мем (Ctrl+S)
- Случайный мем (Ctrl+R)
- История загрузок
- История версий
- Выход

### Текст:
- Добавить верхний текст (Ctrl+T)
- Добавить нижний текст (Ctrl+B)
- Настройки текста
- Удалить весь текст
- Сбросить позиции текста

### Изображение:
- Яркость/Контрастность
- Фильтры (Ч/Б, Сепия, Размытие, Инверсия, Старое фото)
- Насыщенность
- Сброс фильтров

### Настройки:
- Шрифт
- Размер текста
- Цвет текста
- Обводка текста

### Вид:
- История действий
- Показать сетку
- Предпросмотр

## Горячие клавиши
- Ctrl + O - Загрузить изображение
- Ctrl + S - Сохранить мем
- Ctrl + R - Случайный мем
- Ctrl + T - Добавить верхний текст
- Ctrl + B - Добавить нижний текст
- Ctrl + Z - Отменить действие
- Ctrl + Y - Повторить действие
- Del - Удалить выделенный текст

## Технологический стек
- Python 3.x
- PyQt6
- SQLite3
- Pillow (PIL)
  # Генератор мемов - Пояснительная записка

## 1. Описание всех файлов в репозитории

### 1.1 Файлы в корневой папке:

- **main.py** - главный файл запуска программы
- **requirements.txt** - файл с библиотеками для установки. Содержит: `PyQt6>=6.5.0` и `Pillow>=9.5.0`
- **README.md** - документация проекта
- **.gitignore** - список файлов, которые не загружаются на GitHub
- **build.bat** - скрипт для создания exe-файла на Windows

### 1.2 Папка `src/` - исходный код программы:

- **`__init__.py`** - делает папку Python-пакетом
- **main_window.py** - главное окно программы, интерфейс
- **image_processor.py** - загрузка и обработка изображений
- **text_manager.py** - управление текстом, drag-and-drop
- **meme_renderer.py** - создание готового мема
- **database.py** - работа с базой данных SQLite
- **export_manager.py** - сохранение файлов
- **constants.py** - настройки и константы программы
- **filter_manager.py** - фильтры для изображений (новое)
- **random_meme_generator.py** - генератор случайных мемов (новое)

### 1.3 Папка `database/` - хранение данных:

- **memes.db** - файл базы данных SQLite, создается автоматически

## 2. Инструкция по запуску

### 2.1 Установка и запуск через Python:

1. Установить Python версии 3.8 или новее
2. Скачать проект с GitHub
3. Открыть командную строку в папке проекта
4. Установить библиотеки командой: `pip install PyQt6 Pillow`
5. Запустить программу командой: `python main.py`

### 2.2 Создание exe-файла:

1. Установить pyinstaller: `pip install pyinstaller`
2. Выполнить команду: `pyinstaller --onefile --windowed main.py`
3. exe-файл появится в папке `dist/`

### 2.3 Решение проблем:

- **Ошибка "No module named 'PyQt6'"**: выполнить `pip install PyQt6 Pillow`
- **Не загружаются изображения**: использовать только JPG или PNG
- **Программа не запускается**: проверить, что установлен Python 3.8+

### 2.4 Требования к системе:

- **Операционная система**: Windows 7+, macOS 10.14+, Ubuntu 18.04+
- **Для запуска через Python**: Python 3.8+
- **Свободное место на диске**: 500 МБ

**Репозиторий проекта**: https://github.com/qwoxic/meme_generator
